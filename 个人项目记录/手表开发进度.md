# 手表开发进度



---

## 参考项目地址：

### 第一作者

#### 软件地址：

[GitHub - Forairaaaaa/Monica: DIY Amoled 屏手表 (｡・`ω´･)](https://github.com/Forairaaaaa/monica)

#### 硬件地址：

[【 Monica】DIY手表~ - 嘉立创EDA开源硬件平台 (oshwhub.com)](https://oshwhub.com/eedadada/monica)

### 第二作者

#### 软件地址：

[GitHub - eggfly/monica: DIY Watch based on ESP32-S3 and Amoled screen](https://github.com/eggfly/monica/)

#### 硬件地址：

[RosemaryWatch - 嘉立创EDA开源硬件平台 (oshwhub.com)](https://oshwhub.com/eggfly/rosemary-watch)

---





# 我的修改和设计：



## 硬件

所有设计在嘉立创EDA完成

---



### 1、原理图

#### 连接器

- 在第二作者的原理图的基础上，删除麦克风和扬声器及其相关的外围外围电路。

- 然后空闲出来单片机**ESP32-S3**的**GPIO**和电源**AXP2101**的**ALDO1**引脚
- 采用**板对FPC连接器**引出上述空闲引脚以及IIC引脚，如下图所示：

![image-20240623110214095](C:\Users\kidea\AppData\Roaming\Typora\typora-user-images\image-20240623110214095.png)

#### 心率传感器

- 参考**MAX30102**厂商的数据手册

- 如下图是**P~31~**的参考电路：

![image-20240623111527567](C:\Users\kidea\AppData\Roaming\Typora\typora-user-images\image-20240623111527567.png)

- 由于参考项目的**IIC**上拉电阻是2.2kΩ，所以把**INT#**引脚也修改为2.2kΩ如下图所示：

![image-20240623113020235](C:\Users\kidea\AppData\Roaming\Typora\typora-user-images\image-20240623113020235.png)

#### 体温传感器

- 参考**MAX30205**厂商的数据手册
- 如下图是P~1~的参考电路：

![image-20240623113706661](C:\Users\kidea\AppData\Roaming\Typora\typora-user-images\image-20240623113706661.png)

- 实际原理图如下图所示：

![image-20240623113626693](C:\Users\kidea\AppData\Roaming\Typora\typora-user-images\image-20240623113626693.png)

### 2、PCB布线

#### 主板部分

- 删除了参考项目的扬声器和麦克风及其外围电路的焊盘
- 针对板对FPC连接器母座进行布线
- 基板开槽为FPC排线弯折到背面预留空间

![image-20240623115824725](C:\Users\kidea\AppData\Roaming\Typora\typora-user-images\image-20240623115824725.png)

#### 传感器部分

![image-20240623120632690](C:\Users\kidea\AppData\Roaming\Typora\typora-user-images\image-20240623120632690.png)

#### FPC连接器

![image-20240623120801303](C:\Users\kidea\AppData\Roaming\Typora\typora-user-images\image-20240623120801303.png)

### 3、3D模型

![image-20240623121439975](C:\Users\kidea\AppData\Roaming\Typora\typora-user-images\image-20240623121439975.png)

---



### 元器件焊接与测试

#### 焊接流程

##### 加热台：

- 使用钢网刷锡膏（180°C中温无铅锡膏）
- 放置元器件（摆放准确度决定焊接质量）
- 加热台调节到180°C
- 放置电路板，加热至冒烟（大概是1分钟）后取下冷却
- 冷却30s左右，再放上去，加热到锡膏在灯光下反光
- 取下冷却

##### 热风枪：

- 如果观察到个别元器件有明显的缺陷，如：立碑，虚焊、脱焊等
- 需要使用热风枪进行局部补焊（一般350°C）
- 注意不能将风嘴直接接触元器件
- 不能长时间加热
- 不能对着电源IC和单片机吹

#### 测试流程

- 必须完全冷却后再进行测试（不同温度下元器件的参数不一样！）
- 使用可调电源上电测试，初步确定是否存在短路
- 使用万用表测量各路电压是否正常（3.3V、1.8V、GND等具体点位看PCB设计图）
- 电压正常基本上就没什么问题了
- 最后上传固件测试一下



## 软件

参考第一作者的软件框架

### 开发环境搭建

使用IDF1.5.2开发框架

